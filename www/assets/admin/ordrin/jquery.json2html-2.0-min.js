(function(a){a.fn.json2html=function(e,c,b){var d;if(jQuery.type(e)==="string"){d=jQuery.parseJSON(e)}else{d=e}if(b!=undefined){a.extend(a.json2html.options,b)}return this.each(function(){if(a.json2html.options.prepend){a(this).prepend(a.json2html(d,c))}else{a(this).append(a.json2html(d,c))}})};a.json2html=function(c,b){return(a.json2html.transformArray(c,b))};a.json2html.options={eventData:null,prepend:false};a.json2html.transformArray=function(d,b){if(b==null){return(null)}var c=a(document.createElement("ul"));if(jQuery.type(d)==="array"){a(d).each(function(){a(c).append(a.json2html.transformObject(this,b))})}else{if(jQuery.type(d)==="object"){return(a.json2html.applyTransform(d,b))}}return(c)};a.json2html.transformObject=function(d,b){var c=a(document.createElement("li"));if(jQuery.type(d)==="object"){a(c).append(a.json2html.applyTransform(d,b))}return(c)};a.json2html.applyTransform=function(g,b){var e=a(document.createElement("div"));if(jQuery.type(b)==="array"){a(b).each(function(){a(e).append(a.json2html.applyTransform(g,this))})}else{if(jQuery.type(b)==="object"){if(b.tag!=null){var d=a(document.createElement(b.tag));if(b.html!=undefined){a(d).html(a.json2html.getValue(g,b,"html"))}for(var c in b){if(c!="tag"&&c!="children"&&c!="html"){if(c.indexOf("on")==0){var f=new Object();f.action=b[c];f.obj=g;f.data=a.json2html.options.eventData;a(d).bind(c.substring(c.indexOf("on")+2),f,function(h){f.event=h;f.action(f)})}else{a(d).attr(c,a.json2html.getValue(g,b,c))}}}if(b.children!=undefined){if(jQuery.type(b.children)==="function"){a(d).append(b.children(g))}else{a(d).append(a.json2html.applyTransform(g,b.children))}}e=d}}}return(e)};a.json2html.getValue=function(h,e,f){var d="";if(e[f]!=undefined){if(jQuery.type(e[f])==="function"){d=e[f](h)}if(jQuery.type(e[f])==="string"){if(e[f].length>0){if(e[f][0]=="."){var g=e[f].split(".");var b=h;for(count=0;count<g.length;count++){if(g[count].length>0){var c=b[g[count]];b=c;if(b==null||b==undefined){break}}}if(b!=null&&b!=undefined){d=b}}else{d=e[f]}}}}return(d)}})(jQuery);