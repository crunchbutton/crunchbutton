<div class="top-pad"></div>

<h1 class="title left"><i class="fa fa-automobile"></i><span>Driver Onboarding</span></h1>

<div class="content-padding">

	<div class="box-filter right">
		<input type="text" class="search" id="search" ng-model="search" placeholder="search" />
		<button class="button orange" ng-click="add()">New Driver</button>
		<div class="divider"></div>
	</div>
	
	<div class="divider"></div>

	<div ng-show="ready">

		<div ng-if="count">
			<table class="tb-grid">
				<thead>
					<tr>
						<td class="td-medium">Name</td>
						<td class="td-medium">Login</td>
						<td>Community</td>
						<td></td>
					</tr>
				</thead>		
				<tbody>
					<tr ng-repeat="driver in drivers">
						<td class="link" ng-click="edit(driver.id_admin)">
							{{driver.name}}
						</td>
						<td>
							<span ng-if="driver.login">{{driver.login}}</span>
							<span ng-if="!driver.login" class="sp-label sp-label-warning">
								Setup not completed
							</span>
						</td>
						<td><span ng-repeat="community in driver.communities">{{community}}</span></td>
						<td>
							<span ng-if="driver.sent_all_docs" class="sp-label sp-label-success">
								All documents sent
							</span>
							<span ng-if="!driver.sent_all_docs" class="sp-label sp-label-warning">
								Documents missing
							</span>
						</td>
					</tr>
				</tbody>
			</table>

			<table class="tb-pagination" ng-if="pages > 1">
				<tbody>
					<tr>
						<td class="td-prev"><button class="button orange" ng-show="prev" ng-click="prevPage()">prev</button></td>
						<td class="td-info">Page {{page}} of {{pages}}</td>
						<td class="td-next"><button class="button orange" ng-show="next" ng-click="nextPage()">next</button></td>
					</tr>
				</tbody>
			</table>
		</div>

		<div ng-if="!count" class="box-content">
			No drivers
		</div>

	</div>

</div>

<spinner-loading></spinner-loading>
<hack-expand-content></hack-expand-content>