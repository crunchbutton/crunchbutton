<div class="top-pad"></div>

<div class="content-padding content-padding-notop">

	<div ng-show="ready">

		<div class="dialog-message dialog-message-nice">
			<b>In order to get paid, please:</b>
			<div class="docs-list-spacer"></div>
			<div class="dialog-subtext">
				<i class="fa fa-check-circle" ng-class="{'documents-check-bad': !status.docs, 'documents-check-green': status.docs}"></i>&nbsp;&nbsp;Sign and upload all documents<br>
				<i class="fa fa-check-circle" ng-class="{'documents-check-bad': !status.identification, 'documents-check-green': status.identification}"></i>&nbsp;&nbsp;Upload identification cards<br>
				<i class="fa fa-check-circle" ng-class="{'documents-check-bad': !status.paymentinfo, 'documents-check-green': status.paymentinfo}"></i>&nbsp;&nbsp;Fill out your payment information.

			</div>
				<span ng-if="status.docs && status.identification && status.paymentinfo"><br>You're all set!</span>
		</div>
		<br>

		<h1 class="title"><i class="fa fa-briefcase"></i>Documents</h1>

		<h2 class="title driver-docs-text">
			To complete the documents section, please visit <a href="https://cockpit.la" target="_system">https://cockpit.la</a> from a computer using Chrome as your browser. Download the docs, fill them out and then upload them back to this page. We recommend signing them with <a href="https://www.hellosign.com/" target="_system">Hellosign</a>.
		</h2>

		<table class="tb-grid driver-docs-grid">
			<tr ng-repeat="doc in documents" ng-if="doc.url">
				<td class="documents-check ">
					<i class="fa fa-check-circle documents-check-good" ng-show="doc.status && doc.status.file.substring(9, 14) !== 'blank'"></i>
					<i class="fa fa-check-circle documents-check-bad" ng-show="!doc.status || doc.status.file.substring(9, 14) == 'blank'"></i>
				</td>
				<td ng-click="edit(driver.id_admin)" class="td-medium driver-docs-name">
					<h2 class="driver-docs-name"><b>{{doc.name}}</b></h2>
					<a class="docs-download-form" href="{{doc.url}}" target="_blank"><b>Download Form</b></a>
					<!-- if he already have this doc, show the download link -->
					<span ng-show="1==2 && doc.status && doc.status.file.substring(9, 14) !== 'blank'" title="Sent at {{doc.status.date_formated}}">
						<a class="docs-download" href="/api/driver/documents/download/{{doc.status.id_driver_document_status}}" target="_blank">Download Doc</a>
					</span>
				</td>
				<td class="td-download">
					<!-- upload directive -->
					<div class="upbutton" driver-docs-upload>
						<button class="ladda-button upload" data-color="mint" data-style="zoom-in"><span class="ladda-label"><b>UPLOAD</b></span></button>
						<input ng-if="init" type="file" nv-file-select="" uploader="uploader" name="file" class="file file-hidden" options="{ formData: [{id_driver_document: doc.id_driver_document}]}">
					</div>
				</td>
			</tr>
		</table>

		<h1 class="title" ><i class="fa fa-picture-o"></i><span>Identification</span></h1>

		<h2 class="title driver-docs-text">
			Upload a clear picture of your Drivers License and Insurance card. You can do this from most smartphones if you have already taken a picture. If that doesn't work, please use Chrome on your computer.
		</h2>

		<table class="tb-grid driver-docs-grid">
			<tr ng-repeat="doc in documents" ng-if="!doc.url">
				<td class="documents-check">
					<i class="fa fa-check-circle documents-check-good" ng-show="doc.status"></i>
					<i class="fa fa-check-circle documents-check-bad" ng-show="!doc.status"></i>
				</td>
				<td class="td-medium driver-docs-card" ng-click="edit(driver.id_admin)">
					<h2 class="driver-docs-card driver-docs-name"><b>{{doc.name}}</b></h2>
					<span ng-show="doc.status" title="Sent at {{doc.status.date_formated}}"><a class="docs-download-card" href="/api/driver/documents/download/{{doc.status.id_driver_document_status}}" target="_blank"><b>Download Doc</b></a></span>
				</td>
				<td class="td-medium td-download">
					<div class="upbutton" driver-docs-upload>
						<button class="ladda-button upload" data-color="mint" data-style="zoom-in"><span class="ladda-label"><b>UPLOAD</b></span></button>
						<input ng-if="init" type="file" nv-file-select="" uploader="uploader" name="file" class="file file-hidden" options="{ formData: [{id_driver_document: doc.id_driver_document}]}">
					</div>
				</td>
			</tr>
		</table>

<div class="content-padding" ng-controller="DriversPaymentFormCtrl">

	<div ng-class="{'box-red':!status.paymentinfo}">
		<h1 class="title" ><span class="contrast" style="font-size: 1.5em;"><i class="fa fa-bank"></i><strong>MOST IMPORTANT: Payment Information</strong></span></h1>
		<h2 class="title driver-docs-text">
			<span class="contrast">IN ORDER TO GET PAID YOU MUST FILL THIS OUT</span>
		</h2>
	</div>

	<br><br>

	<h1 class="title left"><i class="fa fa-bank"></i><span>Payment Information</span></h1>

	<div class="divider"></div>

	<form name="formBasic" novalidate>
		<div class="ul-inputs box-content2">
			<ul ng-class="{'submitted':basicSubmitted}">
				<li class="li-input" ng-class="{'error':formBasic.basicLegalName.$invalid}">
					<div class="label">"Legal Name (as it appears on your checks):</div>
					<div class="input"><input type="text" name="basicLegalName" ng-model="basicInfo.legal_name_payment" required placeholder="Legal Name" ng-maxlength="250"></div>
					<div class="box-error">
						<small ng-show="formBasic.basicLegalName.$error.required">Required.</small>
						<small ng-show="formBasic.basicLegalName.$error.maxlength">Name cannot be longer than 250 characters.</small>
					</div>
				</li>
				<li class="li-input" ng-class="{'error':formBasic.basicSocialSecurityNumber.$invalid}">
					<div class="label">Social Security Number:</div>
					<div class="input"><input type="tel" name="basicSocialSecurityNumber" ng-model="basicInfo.social_security_number" required placeholder="Social Security Number" social-security-number-validate ng-maxlength="15"></div>
					<div class="box-error">
						<small ng-show="formBasic.basicSocialSecurityNumber.$error.required">Required.</small>
						<small ng-show="formBasic.basicSocialSecurityNumber.$error.socialSecurityNumberValidate">Invalid Social Security Number. Please use the format: XXX-XX-XXXX.</small>
					</div>
				</li>
				<li class="li-input" ng-class="{'error':formBasic.basicAddress.$invalid}">
					<div class="label">Address:</div>
					<div class="input">
						<textarea name="basicAddress" ng-model="basicInfo.address" required placeholder="Address"></textarea>
					</div>
					<div class="box-error">
						<small ng-show="formBasic.basicAddress.$error.required">Required.</small>
					</div>
				</li>
				<li class="li-input li-input-line-height">
					* After saving this form, you'll need to enter your Bank Account information below so we can pay you
					<span class="contrast">
						<br><br>
						By entering your payment information, you agree to the <a href="https://stripe.com/connect/account-terms" target="_system">Stripe Connected Account Agreement</a> which allows us to send money directly to your bank account.
					</span>

					<br/><br/>
					<button class="button green" ng-click="save_basic_info();">Save</button>
				</li>
			</ul>
		</div>
	</form>

	<form name="formBank" novalidate>
		<h2 class="title">Bank Account</h2>
		<div class="ul-inputs box-content2">
			<p ng-show="!bank.showForm">
				<span ng-click="bank.showForm = 1" class="link orange">Edit</span>
			</p>
			<ul ng-class="{'submitted':bankSubmitted}" ng-show="bank.showForm">
				<li class="li-input" ng-class="{'error':formBank.accountNumber.$invalid}">
					<div class="label">Account Number:</div>
					<div class="notes">
						This is NOT your debit card number - it's the long number from your checks - see below
					</div>
					<div class="input">
						<input type="tel" name="accountNumber" ng-model="bank.account_number" required />
					</div>
					<div class="box-error">
						<small ng-show="formBank.accountNumber.$error.required">Required.</small>
					</div>
				</li>
				<li class="li-input" ng-class="{'error':formBank.routingNumber.$invalid}">
					<div class="label">Routing Number:</div>
					<div class="input">
						<input type="tel" name="routingNumber" ng-model="bank.routing_number" required="required"/>
					</div>
					<div class="box-error">
						<small ng-show="formBank.routingNumber.$error.required">Required.</small>
					</div>
				</li>
				<li class="li-input" ng-show="!isTokenizing">
					<button class="button green" ng-click="createBankAccount();">Save Bank Information</button>
					<span class="orange link" ng-show="isBeta" ng-click="bankInfoTest()">Test account</span>
				</li>
				<li class="li-input" ng-show="isTokenizing">
					<span><i class="fa fa-circle-o-notch fa-spin"></i> Processing</span>
				</li>
				<li>
					<div class="driver-routing-number"></div>
					<br>Most banks have your Account and Routing numbers ONLINE in your Account Information section.
				</li>
			</ul>
		</div>
	</form>
</div>

		<div>
			<div class="divider"></div><br/><br/>
			<h1 class="title" ><i class="fa fa-credit-card"></i><span>Pex Card</span></h1>
			<h2 class="title driver-docs-text">
				<a href="/drivers/docs/pexcard">Activate your Pex Card</a>.
			</h2>
		</div>

	</div>
