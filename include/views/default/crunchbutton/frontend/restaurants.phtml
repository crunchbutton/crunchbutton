<div ng-show="!restaurants">
	<div class="main-content-readable home-greeting">
		<div class="home-welcome">
			<h1>Finding you the best food...</h1>
		</div>
	</div>
</div>

<div ng-show="restaurants">
	<div class="home-welcome home-tagline main-content-readable" ng-class="{'home-welcome-anony-hasuser': account.user.id_user}">
		<div ng-show="image" class="community-image" style="background-image:url('https://i.crunchbutton.com/image/community/{{image}}');"></div>
		<h1 ng-bind-html-unsafe="slogan" ng-hide="image"></h1>
		<h2 ng-bind-html-unsafe="tagline"></h2>
	</div>
	<div>
		<h2 ng-if="allClosed && community_closed" ng-bind-html-unsafe="community_closed" class="community-closed-message home-welcome home-tagline main-content-readable"></h2>
	</div>

	<? /*
	<div class="home-welcome home-tagline main-content-readable home-welcome-user" ng-show="account.user.id_user">
		<h1 ng-bind-html-unsafe="motivationText"></h1>
	</div>
	*/ ?>

	<div class="content-padder-before"></div>
	<div class="content-padder">
		<div class="meal-items {{mealItemClass}}">

			<div ng-click="display($event)" ng-class="{'meal-item-closed': restaurant._open==false}" class="meal-item" data-id_restaurant="{{restaurant.id_restaurant}}" data-permalink="{{restaurant.permalink}}" ng-repeat="restaurant in restaurants | limitTo:restaurantsToShow">

				<div class="meal-item-content">
					<div class="ladda-label" ng-spinner="loadingRestaurant[restaurant.id_restaurant]" data-spinner-color="#333333" data-spinner-scale=".5">
						<div class="meal-pic" style="background: url({{restaurant.img}});"></div>
						<h2 class="meal-restaurant">{{restaurant.name}}</h2>
						<h3 class="meal-food">{{restaurant._short_description}}</h3>
						<div ng-switch on="restaurant._tag">
							<div class="meal-item-tag" ng-switch-when="takeout">Take out only</div>
							<div class="meal-item-tag about-to-close" ng-switch-when="closing">Hurry, closes in {{restaurant._closesIn}} min!</div>
							<div ng-switch-when="opening">
								<div class="meal-item-tag-closed" ng-if="restaurant._opensIn_formatted">
									Available {{restaurant._opensIn_formatted}}
								</div>
							</div>
							<div class="meal-item-tag-closed" ng-switch-when="closed">
								<span ng-if="restaurant._opensIn_formatted">Available {{restaurant._opensIn_formatted}}</span>
								<span ng-if="!restaurant._opensIn_formatted">Available in a few hours</span>
							</div>
							<div class="meal-item-tag-closed" ng-switch-when="force_close">Temporarily unavailable {{restaurant._closedDueTo}}</div>
							<div class="meal-item-tag-closed" ng-switch-when="next_open">{{restaurant.next_open_time_message.message}}</div>
						</div>
					</div>
				</div>
				<div class="meal-item-spacer"></div>
			</div>
			<button class="show-more-restaurants" ng-show="restaurantsToShow < restaurants.length" ng-click="showMoreRestaurants()">
				Show more Restaurants
			</button>
		</div>
	</div>
</div>